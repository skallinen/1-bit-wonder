{"version":3,"sources":["map_demo/subs.cljs"],"mappings":";AAKA,2DAAA,3DAACA,oMAEA,WAAKC;AAAL,AACE,OAAA,2FAAWA;;AAGd,2DAAA,3DAACD,iMAEA,WAAKC;AAAL,AACE,OAAA,0FAAUA;;AAGb,2DAAA,3DAACD,gMAEA,WAAKC;AAAL,AACE,OAAA,yFAAUA;;AAGb;;;0BAAA,1BACEC,4DAEEC,EAAEC,EAAEC;AAHR,AAIE,sDAAA,WAAAC,1DAACC;AAAD,AAAS,OAACC,6CAAE,4CAAAF,5CAACG,6DAAML,GAAGC;GAAGF;;AAE3B;;;uCAAA,+CAAAO,tFACEG;AADF,AAAA,IAAAF,aAAAD;cAAA,AAAAE,4CAAAD,WAAA,IAAA,rEAGIG;qBAHJ,AAAAF,4CAAAD,WAAA,IAAA,5EAGYI;mCAHZ,AAAAH,4CAAAD,WAAA,IAAA,1FAGqBK;AAHrB,AAMO,OAAA,WAAAE;AAAA,AAAE,oBAAIH;AAAS,+BAAAG,iBAAA,qDAAA,9FAAChB;;AAAdgB;;GADF,AAAA,WAAAD;AAAA,AAAE,oBAAID;AAAuB,+BAAAC,iBAAA,4FAAA,rIAACf;;AAA5Be;;GADFH;;AAIP,2DAAA,3DAACd,kNAEA,WAAKmB;AAAL,AAAA,0FACG,sDAAA,mFAAA,zIAACC,qOACD,sDAAA,mFAAA,zIAACA,iPACD,sDAAA,mFAAA,zIAACA;GACDP;AAGJ,2DAAA,3DAACb,qMAEA,WAAKC;AAAL,AACE,OAAA,yFAAUA;;AAGb,2DAAA,3DAACD,4MAEA,WAAKC,GAAGkB;AAAR,AACE,OAAA,qGAAgBlB;;AAGnB,2DAAA,3DAACD,wOAEA,WAAKC,GAAGkB;AAAR,AACE,OAAA,6HAA6BlB","names":["re_frame.core.reg_sub","db","map-demo.subs/filter-kv","m","k","v","p1__34632#","cljs.core.filter","cljs.core._EQ_","cljs.core.get","p__34636","vec__34644","cljs.core.nth","map-demo.subs/markers-filter-handler","markers","only-ta?","only-traffic-effect-3?","p1__34633#","p1__34635#","_","re_frame.core.subscribe"],"sourcesContent":["(ns map-demo.subs\n  (:require\n   [re-frame.core :as re-frame]))\n\n\n(re-frame/reg-sub\n ::loading?\n (fn [db]\n   (:loading? db)))\n\n\n(re-frame/reg-sub\n ::loaded?\n (fn [db]\n   (:loaded? db)))\n\n\n(re-frame/reg-sub\n ::markers\n (fn [db]\n   (:markers db)))\n\n\n(defn\n  filter-kv\n  \"Helper function to filter coll of maps according to value in key\"\n   [m k v]\n  (filter #(= (get % k) v) m))\n\n(defn\n  markers-filter-handler\n  \"Handler for filtering jobs according to user input\"\n  [[markers only-ta? only-traffic-effect-3?]]\n   (-> markers\n       (#(if only-traffic-effect-3? (filter-kv % :estimated-traffic-effect \"3\") %))\n       (#(if only-ta? (filter-kv % :type \"ta\") %))))\n\n(re-frame/reg-sub\n ::markers-filtered\n (fn [_]\n   [(re-frame/subscribe [::markers])\n    (re-frame/subscribe [::ta-is-checked])\n    (re-frame/subscribe [::traffic-effects-is-checked])])\n    markers-filter-handler)\n\n\n(re-frame/reg-sub\n ::show-jobs\n (fn [db]\n   (:markers db)))\n\n\n(re-frame/reg-sub \n ::ta-is-checked  \n (fn [db _]        \n   (:ta-is-checked db)))\n\n\n(re-frame/reg-sub\n ::traffic-effects-is-checked\n (fn [db _]            \n   (:traffic-effects-is-checked db)))\n"]}