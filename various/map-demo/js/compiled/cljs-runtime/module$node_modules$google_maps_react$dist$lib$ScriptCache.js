shadow$provide.module$node_modules$google_maps_react$dist$lib$ScriptCache=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){if("function"===typeof define&&define.amd)define(["exports","./windowOrGlobal"],factory);else if("undefined"!==typeof exports$jscomp$0)factory(exports$jscomp$0,require("module$node_modules$google_maps_react$dist$lib$windowOrGlobal"));else{var JSCompiler_object_inline_exports_156={};factory(JSCompiler_object_inline_exports_156,global.windowOrGlobal);
global.ScriptCache=JSCompiler_object_inline_exports_156}})(this,function(exports,window){Object.defineProperty(exports,"__esModule",{value:!0});var counter=0,scriptMap="undefined"!==typeof window&&window._scriptMap||new Map,ScriptCache=exports.ScriptCache=function(global){global._scriptMap=global._scriptMap||scriptMap;return function(scripts){var Cache={_onLoad:function(key){return function(cb){var registered=!0,stored=scriptMap.get(key);stored&&stored.promise.then(function(){registered&&(stored.error?
cb(stored.error):cb(null,stored));return stored}).catch(function(error){return cb(error)});return function(){registered=!1}}},_scriptTag:function(key,src){if(!scriptMap.has(key)){if("undefined"===typeof document)return null;var tag=document.createElement("script"),initialState={loaded:!1,error:!1,promise:new Promise(function(resolve,reject){var body=document.getElementsByTagName("body")[0];tag.type="text/javascript";tag.async=!1;var cbName="loaderCB"+counter++ +Date.now(),handleResult=function(state){return function(evt){var stored=
scriptMap.get(key);"loaded"===state?(stored.resolved=!0,resolve(src)):"error"===state&&(stored.errored=!0,reject(evt));stored.loaded=!0;global[cbName]&&"function"===typeof global[cbName]&&(global[cbName]=null,delete global[cbName])}};tag.onload=handleResult("loaded");tag.onerror=handleResult("error");tag.onreadystatechange=function(){handleResult(tag.readyState)};src.match(/callback=CALLBACK_NAME/)?(src=src.replace(/(callback=)[^&]+/,"$1"+cbName),window[cbName]=tag.onload):tag.addEventListener("load",
tag.onload);tag.addEventListener("error",tag.onerror);tag.src=src;body.appendChild(tag);return tag}),tag};scriptMap.set(key,initialState)}return scriptMap.get(key).tag}};Object.keys(scripts).forEach(function(key){var script=scripts[key];script=window._scriptMap.has(key)?window._scriptMap.get(key).tag:Cache._scriptTag(key,script);Cache[key]={tag:script,onLoad:Cache._onLoad(key)}});return Cache}}(window);exports.default=ScriptCache})}
//# sourceMappingURL=module$node_modules$google_maps_react$dist$lib$ScriptCache.js.map
