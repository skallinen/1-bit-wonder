{
"version":3,
"file":"module$node_modules$readable_stream$lib$internal$streams$async_iterator.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/readable-stream/lib/internal/streams/async_iterator.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$readable_stream$lib$internal$streams$async_iterator\"] = function(global,require,module,exports) {\nvar process = require('process');\n'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;\n};"],
"names":["shadow$provide","global","require","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","createIterResult","done","readAndResolve","iter","resolve","kLastResolve","data","kStream","read","kLastPromise","kLastReject","onReadable","process","nextTick","wrapForNext","lastPromise","reject","then","kEnded","undefined","kHandlePromise","_Object$setPrototypeO","finished","Symbol","kError","AsyncIteratorPrototype","getPrototypeOf","ReadableStreamAsyncIteratorPrototype","setPrototypeOf","stream","next","_this","error","Promise","destroyed","promise","asyncIterator","_return","_this2","destroy","err","createReadableStreamAsyncIterator","_Object$create","iterator","create","_readableState","endEmitted","code","on","bind"]
}
