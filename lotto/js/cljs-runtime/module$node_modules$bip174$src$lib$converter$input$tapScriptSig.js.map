{
"version":3,
"file":"module$node_modules$bip174$src$lib$converter$input$tapScriptSig.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/bip174/src/lib/converter/input/tapScriptSig.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$bip174$src$lib$converter$input$tapScriptSig\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\n'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.TAP_SCRIPT_SIG) {\n    throw new Error(\n      'Decode Error: could not decode tapScriptSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.key.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.value.length !== 64 && keyVal.value.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid signature in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const pubkey = keyVal.key.slice(1, 33);\n  const leafHash = keyVal.key.slice(33);\n  return {\n    pubkey,\n    leafHash,\n    signature: keyVal.value,\n  };\n}\nexports.decode = decode;\nfunction encode(tSig) {\n  const head = Buffer.from([typeFields_1.InputTypes.TAP_SCRIPT_SIG]);\n  return {\n    key: Buffer.concat([head, tSig.pubkey, tSig.leafHash]),\n    value: tSig.signature,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.pubkey) &&\n    Buffer.isBuffer(data.leafHash) &&\n    Buffer.isBuffer(data.signature) &&\n    data.pubkey.length === 32 &&\n    data.leafHash.length === 32 &&\n    (data.signature.length === 64 || data.signature.length === 65)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString =\n    item.pubkey.toString('hex') + item.leafHash.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(\n      v => v.pubkey.equals(item.pubkey) && v.leafHash.equals(item.leafHash),\n    ).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Buffer","Object","defineProperty","value","typeFields_1","decode","keyVal","key","InputTypes","TAP_SCRIPT_SIG","Error","toString","length","pubkey","slice","leafHash","signature","encode","tSig","head","from","concat","expected","check","data","isBuffer","canAddToArray","array","item","dupeSet","dupeString","has","add","filter","v","equals"]
}
