{
"version":3,
"file":"module$node_modules$bitcoinjs_lib$src$payments$p2wpkh.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/bitcoinjs-lib/src/payments/p2wpkh.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$bitcoinjs_lib$src$payments$p2wpkh\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\n'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wpkh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst EMPTY_BUFFER = Buffer.alloc(0);\n// witness: {signature} {pubKey}\n// input: <>\n// output: OP_0 {pubKeyHash}\nfunction p2wpkh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.pubkey && !a.witness)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(22)),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: Buffer.from(data),\n    };\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2wpkh', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const words = bech32_1.bech32.toWords(o.hash);\n    words.unshift(0x00);\n    return bech32_1.bech32.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(2, 22);\n    if (a.address) return _address().data;\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_0, o.hash]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (a.pubkey) return a.pubkey;\n    if (!a.witness) return;\n    return a.witness[1];\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.witness) return;\n    return a.witness[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!o.witness) return;\n    return EMPTY_BUFFER;\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!a.pubkey) return;\n    if (!a.signature) return;\n    return [a.signature, a.pubkey];\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (network && network.bech32 !== _address().prefix)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== 0x00)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 20)\n        throw new TypeError('Invalid address data');\n      hash = _address().data;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 22 ||\n        a.output[0] !== OPS.OP_0 ||\n        a.output[1] !== 0x14\n      )\n        throw new TypeError('Output is invalid');\n      if (hash.length > 0 && !hash.equals(a.output.slice(2)))\n        throw new TypeError('Hash mismatch');\n      else hash = a.output.slice(2);\n    }\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n      else hash = pkh;\n      if (!(0, types_1.isPoint)(a.pubkey) || a.pubkey.length !== 33)\n        throw new TypeError('Invalid pubkey for p2wpkh');\n    }\n    if (a.witness) {\n      if (a.witness.length !== 2) throw new TypeError('Witness is invalid');\n      if (!bscript.isCanonicalScriptSignature(a.witness[0]))\n        throw new TypeError('Witness has invalid signature');\n      if (!(0, types_1.isPoint)(a.witness[1]) || a.witness[1].length !== 33)\n        throw new TypeError('Witness has invalid pubkey');\n      if (a.signature && !a.signature.equals(a.witness[0]))\n        throw new TypeError('Signature mismatch');\n      if (a.pubkey && !a.pubkey.equals(a.witness[1]))\n        throw new TypeError('Pubkey mismatch');\n      const pkh = bcrypto.hash160(a.witness[1]);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2wpkh = p2wpkh;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Buffer","Object","defineProperty","value","p2wpkh","bcrypto","networks_1","bscript","types_1","lazy","bech32_1","OPS","EMPTY_BUFFER","alloc","a","opts","address","hash","output","pubkey","witness","TypeError","assign","validate","typeforce","maybe","String","BufferN","input","network","isPoint","signature","isCanonicalScriptSignature","arrayOf","_address","result","bech32","decode","version","words","shift","data","fromWords","prefix","from","bitcoin","o","name","prop","toWords","unshift","encode","slice","hash160","compile","OP_0","length","equals","pkh"]
}
