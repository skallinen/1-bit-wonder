{
"version":3,
"file":"module$node_modules$bitcoinjs_lib$src$payments$embed.js",
"lineCount":3,
"mappings":"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",
"sources":["node_modules/bitcoinjs-lib/src/payments/embed.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$bitcoinjs_lib$src$payments$embed\"] = function(global,require,module,exports) {\n'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2data = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// output: OP_RETURN ...\nfunction p2data(a, opts) {\n  if (!a.data && !a.output) throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      data: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'embed', network };\n  lazy.prop(o, 'output', () => {\n    if (!a.data) return;\n    return bscript.compile([OPS.OP_RETURN].concat(a.data));\n  });\n  lazy.prop(o, 'data', () => {\n    if (!a.output) return;\n    return bscript.decompile(a.output).slice(1);\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      const chunks = bscript.decompile(a.output);\n      if (chunks[0] !== OPS.OP_RETURN) throw new TypeError('Output is invalid');\n      if (!chunks.slice(1).every(types_1.typeforce.Buffer))\n        throw new TypeError('Output is invalid');\n      if (a.data && !stacksEqual(a.data, o.data))\n        throw new TypeError('Data mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2data = p2data;\n\n};"],
"names":["shadow$provide","global","require","module","exports","stacksEqual","a","b","length","every","x","i","equals","Object","defineProperty","value","p2data","networks_1","bscript","types_1","lazy","OPS","opts","data","output","TypeError","assign","validate","typeforce","network","maybe","Buffer","arrayOf","o","name","bitcoin","prop","compile","OP_RETURN","concat","decompile","slice","chunks"]
}
