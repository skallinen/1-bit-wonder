{
"version":3,
"file":"module$node_modules$tiny_secp256k1$js.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/tiny-secp256k1/js.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$tiny_secp256k1$js\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\nconst BN = require('bn.js')\nconst EC = require('elliptic').ec\nconst secp256k1 = new EC('secp256k1')\nconst deterministicGenerateK = require('./rfc6979')\n\nconst ZERO32 = Buffer.alloc(32, 0)\nconst EC_GROUP_ORDER = Buffer.from('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 'hex')\nconst EC_P = Buffer.from('fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f', 'hex')\n\nconst n = secp256k1.curve.n\nconst nDiv2 = n.shrn(1)\nconst G = secp256k1.curve.g\n\nconst THROW_BAD_PRIVATE = 'Expected Private'\nconst THROW_BAD_POINT = 'Expected Point'\nconst THROW_BAD_TWEAK = 'Expected Tweak'\nconst THROW_BAD_HASH = 'Expected Hash'\nconst THROW_BAD_SIGNATURE = 'Expected Signature'\nconst THROW_BAD_EXTRA_DATA = 'Expected Extra Data (32 bytes)'\n\nfunction isScalar (x) {\n  return Buffer.isBuffer(x) && x.length === 32\n}\n\nfunction isOrderScalar (x) {\n  if (!isScalar(x)) return false\n  return x.compare(EC_GROUP_ORDER) < 0 // < G\n}\n\nfunction isPoint (p) {\n  if (!Buffer.isBuffer(p)) return false\n  if (p.length < 33) return false\n\n  const t = p[0]\n  const x = p.slice(1, 33)\n  if (x.compare(ZERO32) === 0) return false\n  if (x.compare(EC_P) >= 0) return false\n  if ((t === 0x02 || t === 0x03) && p.length === 33) {\n    try { decodeFrom(p) } catch (e) { return false } // TODO: temporary\n    return true\n  }\n\n  const y = p.slice(33)\n  if (y.compare(ZERO32) === 0) return false\n  if (y.compare(EC_P) >= 0) return false\n  if (t === 0x04 && p.length === 65) return true\n  return false\n}\n\nfunction __isPointCompressed (p) {\n  return p[0] !== 0x04\n}\n\nfunction isPointCompressed (p) {\n  if (!isPoint(p)) return false\n  return __isPointCompressed(p)\n}\n\nfunction isPrivate (x) {\n  if (!isScalar(x)) return false\n  return x.compare(ZERO32) > 0 && // > 0\n    x.compare(EC_GROUP_ORDER) < 0 // < G\n}\n\nfunction isSignature (value) {\n  const r = value.slice(0, 32)\n  const s = value.slice(32, 64)\n  return Buffer.isBuffer(value) && value.length === 64 &&\n    r.compare(EC_GROUP_ORDER) < 0 &&\n    s.compare(EC_GROUP_ORDER) < 0\n}\n\nfunction assumeCompression (value, pubkey) {\n  if (value === undefined && pubkey !== undefined) return __isPointCompressed(pubkey)\n  if (value === undefined) return true\n  return value\n}\n\nfunction fromBuffer (d) { return new BN(d) }\nfunction toBuffer (d) { return d.toArrayLike(Buffer, 'be', 32) }\nfunction decodeFrom (P) { return secp256k1.curve.decodePoint(P) }\nfunction getEncoded (P, compressed) { return Buffer.from(P._encode(compressed)) }\n\nfunction pointAdd (pA, pB, __compressed) {\n  if (!isPoint(pA)) throw new TypeError(THROW_BAD_POINT)\n  if (!isPoint(pB)) throw new TypeError(THROW_BAD_POINT)\n\n  const a = decodeFrom(pA)\n  const b = decodeFrom(pB)\n  const pp = a.add(b)\n  if (pp.isInfinity()) return null\n\n  const compressed = assumeCompression(__compressed, pA)\n  return getEncoded(pp, compressed)\n}\n\nfunction pointAddScalar (p, tweak, __compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const compressed = assumeCompression(__compressed, p)\n  const pp = decodeFrom(p)\n  if (tweak.compare(ZERO32) === 0) return getEncoded(pp, compressed)\n\n  const tt = fromBuffer(tweak)\n  const qq = G.mul(tt)\n  const uu = pp.add(qq)\n  if (uu.isInfinity()) return null\n\n  return getEncoded(uu, compressed)\n}\n\nfunction pointCompress (p, __compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n\n  const pp = decodeFrom(p)\n  if (pp.isInfinity()) throw new TypeError(THROW_BAD_POINT)\n\n  const compressed = assumeCompression(__compressed, p)\n\n  return getEncoded(pp, compressed)\n}\n\nfunction pointFromScalar (d, __compressed) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n\n  const dd = fromBuffer(d)\n  const pp = G.mul(dd)\n  if (pp.isInfinity()) return null\n\n  const compressed = assumeCompression(__compressed)\n  return getEncoded(pp, compressed)\n}\n\nfunction pointMultiply (p, tweak, __compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const compressed = assumeCompression(__compressed, p)\n  const pp = decodeFrom(p)\n  const tt = fromBuffer(tweak)\n  const qq = pp.mul(tt)\n  if (qq.isInfinity()) return null\n\n  return getEncoded(qq, compressed)\n}\n\nfunction privateAdd (d, tweak) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const dd = fromBuffer(d)\n  const tt = fromBuffer(tweak)\n  const dt = toBuffer(dd.add(tt).umod(n))\n  if (!isPrivate(dt)) return null\n\n  return dt\n}\n\nfunction privateSub (d, tweak) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const dd = fromBuffer(d)\n  const tt = fromBuffer(tweak)\n  const dt = toBuffer(dd.sub(tt).umod(n))\n  if (!isPrivate(dt)) return null\n\n  return dt\n}\n\nfunction sign (hash, x) {\n  return __sign(hash, x)\n}\n\nfunction signWithEntropy (hash, x, addData) {\n  return __sign(hash, x, addData)\n}\n\nfunction __sign (hash, x, addData) {\n  if (!isScalar(hash)) throw new TypeError(THROW_BAD_HASH)\n  if (!isPrivate(x)) throw new TypeError(THROW_BAD_PRIVATE)\n  if (addData !== undefined && !isScalar(addData)) throw new TypeError(THROW_BAD_EXTRA_DATA)\n\n  const d = fromBuffer(x)\n  const e = fromBuffer(hash)\n\n  let r, s\n  const checkSig = function (k) {\n    const kI = fromBuffer(k)\n    const Q = G.mul(kI)\n\n    if (Q.isInfinity()) return false\n\n    r = Q.x.umod(n)\n    if (r.isZero() === 0) return false\n\n    s = kI\n      .invm(n)\n      .mul(e.add(d.mul(r)))\n      .umod(n)\n    if (s.isZero() === 0) return false\n\n    return true\n  }\n\n  deterministicGenerateK(hash, x, checkSig, isPrivate, addData)\n\n  // enforce low S values, see bip62: 'low s values in signatures'\n  if (s.cmp(nDiv2) > 0) {\n    s = n.sub(s)\n  }\n\n  const buffer = Buffer.allocUnsafe(64)\n  toBuffer(r).copy(buffer, 0)\n  toBuffer(s).copy(buffer, 32)\n  return buffer\n}\n\nfunction verify (hash, q, signature, strict) {\n  if (!isScalar(hash)) throw new TypeError(THROW_BAD_HASH)\n  if (!isPoint(q)) throw new TypeError(THROW_BAD_POINT)\n\n  // 1.4.1 Enforce r and s are both integers in the interval [1, n \u2212 1] (1, isSignature enforces '< n - 1')\n  if (!isSignature(signature)) throw new TypeError(THROW_BAD_SIGNATURE)\n\n  const Q = decodeFrom(q)\n  const r = fromBuffer(signature.slice(0, 32))\n  const s = fromBuffer(signature.slice(32, 64))\n\n  if (strict && s.cmp(nDiv2) > 0) {\n    return false\n  }\n\n  // 1.4.1 Enforce r and s are both integers in the interval [1, n \u2212 1] (2, enforces '> 0')\n  if (r.gtn(0) <= 0 /* || r.compareTo(n) >= 0 */) return false\n  if (s.gtn(0) <= 0 /* || s.compareTo(n) >= 0 */) return false\n\n  // 1.4.2 H = Hash(M), already done by the user\n  // 1.4.3 e = H\n  const e = fromBuffer(hash)\n\n  // Compute s^-1\n  const sInv = s.invm(n)\n\n  // 1.4.4 Compute u1 = es^\u22121 mod n\n  //               u2 = rs^\u22121 mod n\n  const u1 = e.mul(sInv).umod(n)\n  const u2 = r.mul(sInv).umod(n)\n\n  // 1.4.5 Compute R = (xR, yR)\n  //               R = u1G + u2Q\n  const R = G.mulAdd(u1, Q, u2)\n\n  // 1.4.5 (cont.) Enforce R is not at infinity\n  if (R.isInfinity()) return false\n\n  // 1.4.6 Convert the field element R.x to an integer\n  const xR = R.x\n\n  // 1.4.7 Set v = xR mod n\n  const v = xR.umod(n)\n\n  // 1.4.8 If v = r, output \"valid\", and if v != r, output \"invalid\"\n  return v.eq(r)\n}\n\nmodule.exports = {\n  isPoint,\n  isPointCompressed,\n  isPrivate,\n  pointAdd,\n  pointAddScalar,\n  pointCompress,\n  pointFromScalar,\n  pointMultiply,\n  privateAdd,\n  privateSub,\n  sign,\n  signWithEntropy,\n  verify\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","isScalar","x","Buffer","isBuffer","length","isOrderScalar","compare","EC_GROUP_ORDER","isPoint","p","t","slice","ZERO32","EC_P","decodeFrom","e","y","isPrivate","assumeCompression","value","pubkey","undefined","fromBuffer","d","BN","P","secp256k1","curve","decodePoint","__sign","hash","addData","TypeError","THROW_BAD_HASH","THROW_BAD_PRIVATE","THROW_BAD_EXTRA_DATA","r","s","deterministicGenerateK","checkSig","k","kI","Q","G","mul","isInfinity","umod","n","isZero","invm","add","cmp","nDiv2","sub","buffer","allocUnsafe","toArrayLike","copy","ec","alloc","from","shrn","g","isPointCompressed","pointAdd","pA","pB","__compressed","THROW_BAD_POINT","a","b","pp","compressed","_encode","pointAddScalar","tweak","THROW_BAD_TWEAK","tt","qq","uu","pointCompress","pointFromScalar","dd","pointMultiply","privateAdd","dt","privateSub","sign","signWithEntropy","verify","q","signature","strict","THROW_BAD_SIGNATURE","gtn","sInv","u1","u2","R","mulAdd","v","eq"]
}
