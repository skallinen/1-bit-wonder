{
"version":3,
"file":"module$node_modules$bitcoin_address_generator$node_modules$bitcoinjs_lib$src$payments$p2pkh.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/bitcoin-address-generator/node_modules/bitcoinjs-lib/src/payments/p2pkh.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$bitcoin_address_generator$node_modules$bitcoinjs_lib$src$payments$p2pkh\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\nconst lazy = require('./lazy')\nconst typef = require('typeforce')\nconst OPS = require('bitcoin-ops')\nconst ecc = require('tiny-secp256k1')\n\nconst bcrypto = require('../crypto')\nconst bscript = require('../script')\nconst BITCOIN_NETWORK = require('../networks').bitcoin\nconst bs58check = require('bs58check')\n\n// input: {signature} {pubkey}\n// output: OP_DUP OP_HASH160 {hash160(pubkey)} OP_EQUALVERIFY OP_CHECKSIG\nfunction p2pkh (a, opts) {\n  if (\n    !a.address &&\n    !a.hash &&\n    !a.output &&\n    !a.pubkey &&\n    !a.input\n  ) throw new TypeError('Not enough data')\n  opts = Object.assign({ validate: true }, opts || {})\n\n  typef({\n    network: typef.maybe(typef.Object),\n    address: typef.maybe(typef.String),\n    hash: typef.maybe(typef.BufferN(20)),\n    output: typef.maybe(typef.BufferN(25)),\n\n    pubkey: typef.maybe(ecc.isPoint),\n    signature: typef.maybe(bscript.isCanonicalScriptSignature),\n    input: typef.maybe(typef.Buffer)\n  }, a)\n\n  const _address = lazy.value(function () {\n    const payload = bs58check.decode(a.address)\n    const version = payload.readUInt8(0)\n    const hash = payload.slice(1)\n    return { version, hash }\n  })\n  const _chunks = lazy.value(function () { return bscript.decompile(a.input) })\n\n  const network = a.network || BITCOIN_NETWORK\n  const o = { network }\n\n  lazy.prop(o, 'address', function () {\n    if (!o.hash) return\n\n    const payload = Buffer.allocUnsafe(21)\n    payload.writeUInt8(network.pubKeyHash, 0)\n    o.hash.copy(payload, 1)\n    return bs58check.encode(payload)\n  })\n  lazy.prop(o, 'hash', function () {\n    if (a.output) return a.output.slice(3, 23)\n    if (a.address) return _address().hash\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey)\n  })\n  lazy.prop(o, 'output', function () {\n    if (!o.hash) return\n    return bscript.compile([\n      OPS.OP_DUP,\n      OPS.OP_HASH160,\n      o.hash,\n      OPS.OP_EQUALVERIFY,\n      OPS.OP_CHECKSIG\n    ])\n  })\n  lazy.prop(o, 'pubkey', function () {\n    if (!a.input) return\n    return _chunks()[1]\n  })\n  lazy.prop(o, 'signature', function () {\n    if (!a.input) return\n    return _chunks()[0]\n  })\n  lazy.prop(o, 'input', function () {\n    if (!a.pubkey) return\n    if (!a.signature) return\n    return bscript.compile([a.signature, a.pubkey])\n  })\n  lazy.prop(o, 'witness', function () {\n    if (!o.input) return\n    return []\n  })\n\n  // extended validation\n  if (opts.validate) {\n    let hash\n    if (a.address) {\n      if (_address().version !== network.pubKeyHash) throw new TypeError('Invalid version or Network mismatch')\n      if (_address().hash.length !== 20) throw new TypeError('Invalid address')\n      hash = _address().hash\n    }\n\n    if (a.hash) {\n      if (hash && !hash.equals(a.hash)) throw new TypeError('Hash mismatch')\n      else hash = a.hash\n    }\n\n    if (a.output) {\n      if (\n        a.output.length !== 25 ||\n        a.output[0] !== OPS.OP_DUP ||\n        a.output[1] !== OPS.OP_HASH160 ||\n        a.output[2] !== 0x14 ||\n        a.output[23] !== OPS.OP_EQUALVERIFY ||\n        a.output[24] !== OPS.OP_CHECKSIG) throw new TypeError('Output is invalid')\n\n      const hash2 = a.output.slice(3, 23)\n      if (hash && !hash.equals(hash2)) throw new TypeError('Hash mismatch')\n      else hash = hash2\n    }\n\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey)\n      if (hash && !hash.equals(pkh)) throw new TypeError('Hash mismatch')\n      else hash = pkh\n    }\n\n    if (a.input) {\n      const chunks = _chunks()\n      if (chunks.length !== 2) throw new TypeError('Input is invalid')\n      if (!bscript.isCanonicalScriptSignature(chunks[0])) throw new TypeError('Input has invalid signature')\n      if (!ecc.isPoint(chunks[1])) throw new TypeError('Input has invalid pubkey')\n\n      if (a.signature && !a.signature.equals(chunks[0])) throw new TypeError('Signature mismatch')\n      if (a.pubkey && !a.pubkey.equals(chunks[1])) throw new TypeError('Pubkey mismatch')\n\n      const pkh = bcrypto.hash160(chunks[1])\n      if (hash && !hash.equals(pkh)) throw new TypeError('Hash mismatch')\n    }\n  }\n\n  return Object.assign(o, a)\n}\n\nmodule.exports = p2pkh\n\n};"],
"names":["shadow$provide","global","require","module","exports","Buffer","lazy","typef","OPS","ecc","bcrypto","bscript","BITCOIN_NETWORK","bitcoin","bs58check","p2pkh","a","opts","address","hash","output","pubkey","input","TypeError","Object","assign","validate","network","maybe","String","BufferN","isPoint","signature","isCanonicalScriptSignature","_address","value","payload","decode","version","readUInt8","slice","_chunks","decompile","o","prop","allocUnsafe","writeUInt8","pubKeyHash","copy","encode","hash160","compile","OP_DUP","OP_HASH160","OP_EQUALVERIFY","OP_CHECKSIG","length","equals","hash2","pkh","chunks"]
}
