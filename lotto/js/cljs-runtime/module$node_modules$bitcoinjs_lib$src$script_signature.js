shadow$provide.module$node_modules$bitcoinjs_lib$src$script_signature=function(global,require,module,exports){function toDER(x){let i=0;for(;0===x[i];)++i;if(i===x.length)return ZERO;x=x.slice(i);return x[0]&128?Buffer.concat([ZERO,x],1+x.length):x}function fromDER(x){0===x[0]&&(x=x.slice(1));const buffer=Buffer.alloc(32,0);x.copy(buffer,Math.max(0,32-x.length));return buffer}var Buffer=require("module$node_modules$buffer$index").Buffer;"use strict";Object.defineProperty(exports,"__esModule",{value:!0});
exports.encode=exports.decode=void 0;const bip66=require("module$node_modules$bitcoinjs_lib$src$bip66"),types=require("module$node_modules$bitcoinjs_lib$src$types"),{typeforce}=types,ZERO=Buffer.alloc(1,0);exports.decode=function(buffer){const hashType=buffer.readUInt8(buffer.length-1);var hashTypeMod=hashType&-129;if(0>=hashTypeMod||4<=hashTypeMod)throw Error("Invalid hashType "+hashType);hashTypeMod=bip66.decode(buffer.slice(0,-1));buffer=fromDER(hashTypeMod.r);hashTypeMod=fromDER(hashTypeMod.s);
return{signature:Buffer.concat([buffer,hashTypeMod],64),hashType}};exports.encode=function(signature,hashType){typeforce({signature:types.BufferN(64),hashType:types.UInt8},{signature,hashType});var hashTypeMod=hashType&-129;if(0>=hashTypeMod||4<=hashTypeMod)throw Error("Invalid hashType "+hashType);hashTypeMod=Buffer.allocUnsafe(1);hashTypeMod.writeUInt8(hashType,0);hashType=toDER(signature.slice(0,32));signature=toDER(signature.slice(32,64));return Buffer.concat([bip66.encode(hashType,signature),
hashTypeMod])}}
//# sourceMappingURL=module$node_modules$bitcoinjs_lib$src$script_signature.js.map
